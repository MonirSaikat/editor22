!function(c){c.fn.textEditor=function(t){var t=c.extend({toolbarSelector:".editor-toolbar",contentSelector:".editor-content"},t),e=this.find(t.toolbarSelector);const i=this.find(t.contentSelector);return e.find("button").on("click",function(){var t=c(this).data("command");document.execCommand(t,!1,null)}),e.find(".overline").on("click",function(){document.execCommand("underline",!1,null);var t,e,n=window.getSelection();n.rangeCount&&(t=n.getRangeAt(0).cloneRange(),(e=document.createElement("span")).style.textDecoration="overline",t.surroundContents(e),n.removeAllRanges(),n.addRange(t))}),c("#textColor").on("input",function(){document.execCommand("foreColor",!1,c(this).val())}),c("#alignment").on("change",function(){var t=c(this).val();t&&document.execCommand(t,!1,null)}),c("#fontSize").on("change",function(){var t=c(this).val();document.execCommand("formatBlock",!1,t)}),c("#fontFamily").on("change",function(){var t=c(this).val();document.execCommand("fontName",!1,t)}),c("#imageUrl").on("click",function(){var t=prompt("Enter the image URL");if(t){const e=c("<img>").attr("src",t).css({maxWidth:"100%"});i.append(e),e.wrap('<div class="resizable"></div>'),setTimeout(function(){e.parent().resizable({aspectRatio:!0,handles:"n, e, s, w, ne, nw, se, sw"}).draggable({containment:i,stop:function(){i.focus()}})},100)}}),c.fn.textEditor.setContent=function(t){i.html(t)},c.fn.textEditor.getContent=function(){return i.html()},i.on("paste",function(t){t.preventDefault();var e=t.originalEvent.clipboardData;if(e&&e.items)for(let t=0;t<e.items.length;t++){var n,o,a=e.items[t];-1!==a.type.indexOf("image")?(o=a.getAsFile(),(n=new FileReader).onload=function(t){const e=c("<img>").attr("src",t.target.result).css({maxWidth:"100%"});i.append(e),e.wrap('<div class="resizable"></div>'),setTimeout(function(){e.parent().resizable({aspectRatio:!0,handles:"n, e, s, w, ne, nw, se, sw"}).draggable({containment:i,stop:function(){i.focus()}})},100)},n.readAsDataURL(o)):"text/html"===a.type?(n=e.getData("text/html"),i.append(n)):"text/plain"===a.type&&(o=e.getData("text/plain"),document.execCommand("insertText",!1,o))}}),i.on("click",".resizable",function(){c(this).resizable({aspectRatio:!0,handles:"n, e, s, w, ne, nw, se, sw"}).draggable({containment:i,stop:function(){i.focus()}})}),this}}(jQuery),$(document).ready(function(){$(".editor").textEditor()});